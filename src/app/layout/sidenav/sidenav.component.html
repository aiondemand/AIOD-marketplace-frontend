<mat-sidenav-container 
  class="mat-primary"
  [ngClass]="isMenuCollapsed ? 'sidebar-collapsed' : 'sidebar-expanded'"
>
  <mat-sidenav
    #sidenav
    [mode]="mobileQuery.matches ? 'over' : 'side'"
    [opened]="!mobileQuery.matches"
    class="sidenav"
    [fixedInViewport]="options.value.fixed"
    [fixedTopGap]="options.value.top"
    [fixedBottomGap]="options.value.bottom"
  >
    <main class="d-flex">
      <div
        class="sidebar scrollable"
        [ngClass]="isMenuCollapsed ? 'collapsed' : ''"
        id="sidebar"
      >
        <div class="sidebar-container">
          <div class="menu">
            <ul>
              <li *ngIf="isLoggedIn()" class="sidebar-link">
                <a href="/Bookmarks">
                  <i class="icon-resources-saved"></i>
                  <span>My Bookmarks</span>
                </a>
              </li>
              <li
                class="has-submenu"
                [ngClass]="isResourcesOpened ? 'open' : ''"
              >
                <span
                  (click)="isResourcesOpened = !isResourcesOpened"
                  class="d-flex align-items-center justify-content-between sidebar-link"
                >
                  <div><i class="icon-ai"></i> <span>Resources</span></div>
                </span>
                <ul class="submenu" [ngClass]="isResourcesOpened ? 'open' : ''">
                  <li>
                    <a href="">
                      <i class="icon-catalogue"></i>
                      Catalogue
                    </a>
                  </li>
                  <li>
                    <a href="https://api.aiod.eu"
                      ><i class="icon-catalogue"></i>SDKs and APIs</a
                    >
                  </li>
                    <li>
                    <!-- <img src="../../../assets/images/ai4-logo.png" width="150" class="mb-1" /> -->
                    <p class="sidebar-text">
                      Powered by
                      <a href="https://ai4eosc.eu/">ai4eosc</a> marketplace
                    </p>
                  </li>
                </ul>
              </li>
            </ul>
          </div>

          <div class="sidebar-footer">
            <div class="menu p-0">
              <ul>
                <li *ngIf="!isLoggedIn() && !isMenuCollapsed" class="sidebar-link">
                  <div class="login-message">Join our community, grow your knowledge and learn from others!</div>
                  <button class="btn btn-primary login-button" (click)="login(); $event.stopPropagation()">
                      <span>Sign in</span>
                  </button>
                </li>
              </ul>
            </div>

            <div id="registerDiv" *ngIf="!isLoggedIn()">
              <p>Don't have an AIoD account?</p>
              <p id="registerLink" (click)="login(); $event.stopPropagation()">
                Register
              </p>
            </div>

            <div
              (click)="toggleCollapse()"
              id="collapseButton"
            >
              <i class="icon-colapse"></i>
              <span>collapse</span>
            </div>

          
          </div>
        </div>
      </div>
    </main>
  </mat-sidenav>

  <mat-sidenav-content class="pl-3 pr-3 sidenav-content">
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
<app-spinner
  [isVisible]="(spinnerService.visibility$ | async) ?? false"
  [message]="(spinnerService.message$ | async) ?? ''"
>
  spinner
</app-spinner>
